<% content_for :title, "Explore - Flavortown" %>

<% content_for :head do %>
  <meta property="og:title" content="Explore Flavortown">
  <meta property="og:description" content="Discover projects and devlogs from teen coders on Flavortown.">
  <meta property="og:url" content="<%= request.original_url %>">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Explore Flavortown">
  <meta name="twitter:description" content="Discover projects and devlogs from teen coders on Flavortown.">
<% end %>

<div class="explore" data-controller="load-more" data-load-more-url-value="<%= explore_index_path %>">
    <%= render "explore/explore_nav" %>

    <div id="devlog-list" class="explore__list" data-load-more-target="entries">
        <%= render PostComponent.with_collection(@devlogs, current_user: current_user) %>
    </div>

    <div class="explore__pagination">
        <% if @pagy.next %>
            <button
                type="button"
                class="btn btn--brown"
                data-load-more-target="button"
                data-load-more-url-value="<%= explore_index_path %>"
                data-turbo="false"
                data-action="load-more#load"
                data-page="<%= @pagy.next %>">
                Load More Devlogs
            </button>
        <% else %>
            <p class="explore__end">You've reached the end.</p>
        <% end %>
    </div>
</div>
