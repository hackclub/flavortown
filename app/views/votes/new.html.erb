<% content_for :title, "Vote!" %>

<% if @project.nil? %>
  <p>No more projects to vote on!</p>
<% else %>
  <div class="votes-new">
    <%= render HeadingComponent.new(title: "Vote", tone: :green) %>
    <%= render ButtonComponent.new(
          href: votes_path(@project),
          color: :brown,
          variant: :borderless,
          text: "See my previous votes",
          class: "votes-new__prev-btn",
          aria: { label: "See my previous votes" }
        ) %>

    <div class="votes-new__main" data-controller="vote-tracker">
      <%= render "project_showcase", project: @project, devlogs: @devlogs %>

      <div class="votes-new__form">
        <%= image_tag "star-flag.webp", alt: "star-flag", class: "votes-new__form-flag" %>
        <h1>Your grades, chef</h1>
        <div>
          <%= render "form", project: @project %>
        </div>
      </div>
    </div>
  </div>
<% end %>
