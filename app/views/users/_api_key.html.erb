<div class="api-key-container">
  <div class="api-key-display"
       style="<%= 'filter: blur(0px);' if local_assigns[:just_generated] %>"
       onmouseenter="this.style.filter='blur(0px)'"
       onmouseleave="<%= local_assigns[:just_generated] ? '' : "this.style.filter='blur(8px)'" %>">
    <%= user.api_key.present? ? user.api_key : "No API Key, press generate!" %>
  </div>

  <%= button_to roll_api_key_path,
                method: :post,
                form: {
                  data: {
                    turbo_confirm: "Are you sure? This will invalidate your current API key (if you have one)"
                  }
                } do %>
    <%= inline_svg_tag "icons/refresh.svg", class: "api-key-generate-icon" %>
  <% end %>
</div>
<% if local_assigns[:just_generated] %>
  <p style="color: #22c55e; font-size: 0.875rem; margin: 0.5rem 0 0 0;">Here is your new key!</p>
<% end %>
