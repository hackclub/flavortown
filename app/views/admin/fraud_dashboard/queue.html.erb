<h1>Order Review Queue</h1>

<div class="queue-summary">
  <div class="queue-stat queue-stat--warning">
    <span class="queue-stat__value"><%= @pending_orders.count %></span>
    <span class="queue-stat__label">Pending</span>
  </div>
  <div class="queue-stat queue-stat--info">
    <span class="queue-stat__value"><%= @on_hold_orders.count %></span>
    <span class="queue-stat__label">On Hold</span>
  </div>
</div>

<h2>Pending Orders</h2>
<% if @pending_orders.any? %>
  <table class="queue-table">
    <thead>
      <tr>
        <th>#</th>
        <th>User</th>
        <th>Created</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <% @pending_orders.each do |order| %>
        <tr>
          <td><%= order.id %></td>
          <td><%= order.user&.display_name || "Unknown" %></td>
          <td><%= time_ago_in_words(order.created_at) %> ago</td>
          <td><%= link_to "Review", admin_shop_order_path(order), class: "btn-primary slim" %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% else %>
  <p class="queue-empty">No pending orders ðŸŽ‰</p>
<% end %>

<h2>On Hold</h2>
<% if @on_hold_orders.any? %>
  <table class="queue-table">
    <thead>
      <tr>
        <th>#</th>
        <th>User</th>
        <th>Created</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <% @on_hold_orders.each do |order| %>
        <tr>
          <td><%= order.id %></td>
          <td><%= order.user&.display_name || "Unknown" %></td>
          <td><%= time_ago_in_words(order.created_at) %> ago</td>
          <td><%= link_to "Review", admin_shop_order_path(order), class: "btn-primary slim" %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% else %>
  <p class="queue-empty">No orders on hold</p>
<% end %>

<%= link_to "â† Back to Dashboard", admin_fraud_dashboard_path, class: "btn-secondary" %>

<style>
.queue-summary {
  display: flex;
  gap: 1.5rem;
  margin-bottom: 1.5rem;
}
.queue-stat {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 1rem 2rem;
  background: var(--color-tan-200);
  border-radius: 8px;
}
.queue-stat__value { font-size: 2rem; font-weight: 700; }
.queue-stat__label { font-size: 0.875rem; color: var(--color-text-muted); }
.queue-stat--warning .queue-stat__value { color: #f59e0b; }
.queue-stat--info .queue-stat__value { color: #3b82f6; }
.queue-table {
  width: 100%;
  border-collapse: collapse;
  margin-bottom: 1.5rem;
}
.queue-table th,
.queue-table td {
  padding: 0.5rem 0.75rem;
  text-align: left;
  border-bottom: 1px solid var(--color-tan-400);
}
.queue-table th { font-weight: 600; }
.queue-empty {
  color: var(--color-text-muted);
  font-style: italic;
  margin-bottom: 1.5rem;
}
h2 { margin-top: 1.5rem; }
</style>
