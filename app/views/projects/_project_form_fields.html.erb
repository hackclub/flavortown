<div class="projects-new__field projects-new__field--title">
  <%= render(
        InputComponent.new(
          label: "Project Title",
          placeholder: "Give your project a name",
          form: form,
          attribute: :title,
          color: :yellow,
          subtitle: "A clear title helps people find your work.",
          input_html: {
            data: {
              action: "input->project-form#validateTitle blur->project-form#validateTitle",
              "project-form-target": "title"
            }
          }
        )
      ) %>
</div>

<div class="projects-new__field projects-new__field--description">
  <%= render(
        InputComponent.new(
          label: "Description",
          placeholder: "Share what the project does, who's working on it, and what's next.",
          form: form,
          attribute: :description,
          color: :red,
          as: :textarea,
          input_html: {
            rows: 4,
            data: {
              action: "input->project-form#validateDescription input->project-form#syncUpdateCheckbox blur->project-form#validateDescription",
              "project-form-target": "description"
            }
          },
          subtitle: "Use a few sentences to explain what you're making."
        )
      ) %>

  </div>

<div class="projects-new__field projects-new__field--declarations">
  <div class="input input--yellow">
    <span class="input__label">Project Update</span>
    <label class="projects-new__checkbox-control projects-new__checkbox-control--compact">
      <input type="checkbox"
             data-project-form-target="updateDeclaration"
             data-action="change->project-form#toggleUpdatePrefix">
      <span class="projects-new__checkbox-label">This is an update</span>
    </label>
    <div class="input__subtitle">Tick if updating a project previously submitted to Hack Club. Remember to describe what's new.</div>
  </div>

  <div class="input input--blue">
    <span class="input__label">Space Theme</span>
    <label class="projects-new__checkbox-control projects-new__checkbox-control--compact">
      <%= hidden_field_tag "project[space_themed]", "0" %>
      <input type="checkbox"
             name="project[space_themed]"
             value="1"
             <%= "checked" if @space_themed_checked %>>
      <span class="projects-new__checkbox-label">Space themed</span>
    </label>
    <div class="input__subtitle">May be eligible for cosmic prizes!</div>
  </div>
</div>

<div class="projects-new__field projects-new__field--banner">
  <%= render(
        FileUploadComponent.new(
          label: "Project Banner",
          form: form,
          attribute: :banner,
          color: :green,
          subtitle: "This must be a picture of your actual project â€” not AI-generated art. Show what you built! Upload a JPEG, PNG, WEBP, HEIC, or HEIF up to 10 MB.",
          accept: Project::ACCEPTED_CONTENT_TYPES.join(","),
          direct_upload: true,
          max_size: Project::MAX_BANNER_SIZE
        )
      ) %>
</div>

<div class="projects-new__field projects-new__field--links">
  <%= render InputGroupComponent.new(
        label: "Project Links",
        color: :blue,
        subtitle: "Share links to your project's resources."
      ) do %>

    <%= render InputComponent.new(
          label: "Demo Link",
          placeholder: "https://flavortown.hackclub.com/projects",
          form: form,
          attribute: :demo_url,
          color: :blue,
          icon: "icons/link.svg",
          input_html: {
            type: :url,
            inputmode: "url",
            data: {
              action: "input->project-form#validateUrl blur->project-form#validateUrl",
              "project-form-target": "demoUrl"
            }
          }
        ) %>

    <%= render InputComponent.new(
          label: "Repository",
          placeholder: "https://github.com/hackclub/flavortown",
          form: form,
          attribute: :repo_url,
          color: :blue,
          icon: "icons/merge.svg",
          input_html: {
            type: :url,
            inputmode: "url",
            data: {
              action: "input->project-form#onRepoInput blur->project-form#onRepoBlur",
              "project-form-target": "repoUrl"
            }
          }
        ) %>

    <div data-project-form-target="readmeContainer" hidden>
      <%= render InputComponent.new(
            label: "Raw Readme Link",
            placeholder: "https://raw.githubusercontent.com/hackclub/flavortown/refs/heads/main/README.md",
            form: form,
            attribute: :readme_url,
            color: :blue,
            icon: "icons/paper.svg",
            input_html: {
              type: :url,
              inputmode: "url",
              data: {
                action: "input->project-form#onReadmeInput input->project-form#validateUrl blur->project-form#validateUrl",
                "project-form-target": "readmeUrl"
              }
            }
          ) %>
    </div>
  <% end %>
</div>

<div class="projects-new__field projects-new__field--hackatime-projects">
  <%= render(
        HackatimeProjectSelectorComponent.new(
          label: "Hackatime Projects",
          form: form,
          attribute: :hackatime_project_ids,
          color: :yellow,
          projects: current_user.hackatime_projects,
          project_times: @project_times,
          subtitle: "Link this project to your Hackatime projects."
        )
      ) %>
</div>

<div class="projects-new__field projects-new__field--ai-declaration">
  <%= render(
        InputComponent.new(
          label: "AI Declaration",
          placeholder: "Describe how you used AI in this project (e.g., 'Used ChatGPT for debugging', 'GitHub Copilot for code completion')",
          form: form,
          attribute: :ai_declaration,
          color: :blue,
          as: :textarea,
          input_html: { rows: 3 },
          subtitle: "Optional: If you used AI tools, please declare what you used them for."
        )
      ) %>
</div>
