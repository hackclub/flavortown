<% content_for :title, "My Projects" %>
<div class="projects-board">
  <%= render HeadingComponent.new(title: "My Projects", tone: :blue, size: :full) %>
  <header class="projects-board__header">
    <div class="projects-board__heading">
      <p class="projects-board__subtitle">What'ya cookin'?</p>
    </div>
    <button class="btn btn--red" data-action="click->project-ideas#toggle" data-controller="project-ideas">
      Need Ideas?
    </button>
  </header>

  <div id="project-idea-container" data-project-ideas-target="container" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1000; background: var(--color-tan-300); border-radius: 16px; padding: 20px; box-shadow: 0 8px 32px rgba(0,0,0,0.2); max-width: 500px; width: 90%;">
    <button onclick="document.getElementById('project-idea-container').style.display='none'; document.getElementById('project-idea-overlay').style.display='none';" style="position: absolute; top: 10px; right: 10px; background: none; border: none; font-size: 20px; cursor: pointer;">âœ•</button>
    <%= render "landing/projects/project_idea_generator" %>
  </div>
  <div id="project-idea-overlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 999;" onclick="document.getElementById('project-idea-container').style.display='none'; this.style.display='none';"></div>

  <section class="projects-board__grid" aria-label="Projects">
    <% if @projects.any? %>
      <% @projects.each do |project| %>
        <div class="projects-board__grid-item">
          <%= render partial: "card", locals: { project: project } %>
        </div>
      <% end %>
    <% end %>
    <div class="projects-board__grid-item projects-board__grid-item--create">
      <%= link_to new_project_path, class: "projects-board__create-card" do %>
        <%= inline_svg_tag "icons/plus.svg", class: "projects-board__create-icon", aria: { hidden: true } %>
        <span class="projects-board__create-label">Create Project</span>
      <% end %>
    </div>
  </section>
</div>
