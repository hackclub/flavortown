<div class="projects-new">
  <div class="projects-new__container">
    <%= render(HeadingComponent.new(title: "Edit Project", tone: :brown)) %>

    <%= form_with(model: @project, class: "projects-new__form", local: true) do |form| %>
      <div class="projects-new__card">
        <div class="projects-new__field projects-new__field--title">
          <%= render(
                InputComponent.new(
                  label: "Project Title",
                  placeholder: "Give your project a name",
                  form: form,
                  attribute: :title,
                  color: :yellow,
                  subtitle: "A clear title helps people find your work."
                )
              ) %>
        </div>

        <div class="projects-new__field projects-new__field--description">
          <%= render(
                InputComponent.new(
                  label: "Description",
                  placeholder: "Share what the project does, who's working on it, and what's next.",
                  form: form,
                  attribute: :description,
                  color: :red,
                  as: :textarea,
                  input_html: { rows: 4 },
                  subtitle: "Use a few sentences to explain what you're making."
                )
              ) %>
        </div>

        <div class="projects-new__field projects-new__field--banner">
          <%= render(
                FileUploadComponent.new(
                  label: "Project Banner",
                  form: form,
                  attribute: :banner,
                  color: :green,
                  subtitle: "Upload a JPEG, PNG, WEBP, HEIC, or HEIF up to 10 MB.",
                  accept: Project::ACCEPTED_CONTENT_TYPES.join(","),
                  direct_upload: true,
                  max_size: Project::MAX_BANNER_SIZE
                )
              ) %>
        </div>

        <div class="projects-new__field projects-new__field--links">
          <%= render InputGroupComponent.new(
                label: "Project Links",
                color: :blue,
                subtitle: "Share links to your project's resources."
              ) do %>

            <%= render InputComponent.new(
                  label: "Demo Link",
                  placeholder: "https://flavortown.cooked.selfhosted.hackclub.com/projects",
                  form: form,
                  attribute: :demo_url,
                  color: :blue,
                  icon: "icons/link.svg"
                ) %>

            <%= render InputComponent.new(
                  label: "Repository",
                  placeholder: "https://github.com/hackclub/flavortown",
                  form: form,
                  attribute: :repo_url,
                  color: :blue,
                  icon: "icons/merge.svg"
                ) %>

            <%= render InputComponent.new(
                  label: "Readme Link",
                  placeholder: "https://github.com/hackclub/flavortown",
                  form: form,
                  attribute: :readme_url,
                  color: :blue,
                  icon: "icons/paper.svg"
                ) %>
          <% end %>
        </div>

        <div class="projects-new__field projects-new__field--hackatime-projects">
          <%= render(
                HackatimeProjectSelectorComponent.new(
                  label: "Hackatime Projects",
                  form: form,
                  attribute: :hackatime_project_ids,
                  color: :yellow,
                  projects: current_user.hackatime_projects,
                  subtitle: "Link this project to your Hackatime projects."
                )
              ) %>
        </div>
      </div>

      <div class="projects-new__actions">
        <%= link_to "Cancel", @project, class: "btn btn--yellow" %>
        <%= form.submit "Update Project", class: "btn btn--blue" %>
      </div>
    <% end %>
  </div>
</div>
