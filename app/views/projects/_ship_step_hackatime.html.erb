<div class="projects-ship__step">
  <h2 class="projects-ship__section-title">Review Your Progress</h2>
  <p class="projects-ship__section-desc">
    Make sure this information looks accurate!
  </p>

  <% if @devlogs.any? %>
    <h2 class="projects-ship__section-title projects-ship__section-title--spaced">Devlogs</h2>
    <p class="projects-ship__section-desc">Your project's development history.</p>

    <div class="projects-ship__devlogs">
      <% @devlogs.each do |post| %>
        <div class="projects-ship__devlog">
          <div class="projects-ship__devlog-header">
            <span class="projects-ship__devlog-author"><%= post.user.display_name %></span>
            <span class="projects-ship__devlog-date"><%= post.created_at.strftime("%B %d, %Y") %></span>
          </div>
          <% if post.postable.respond_to?(:body) && post.postable.body.present? %>
            <div class="projects-ship__devlog-body">
              <%= truncate(post.postable.body, length: 200) %>
            </div>
          <% end %>
          <% if post.postable.respond_to?(:duration_seconds) && post.postable.duration_seconds.present? %>
            <div class="projects-ship__devlog-duration">
              <%= (post.postable.duration_seconds / 3600.0).round(1) %> hours logged
            </div>
          <% end %>
        </div>
      <% end %>
    </div>
  <% else %>
    <div class="projects-ship__empty-state projects-ship__section-title--spaced">
      <p>No devlogs yet. Add some devlogs to document your progress!</p>
    </div>
  <% end %>
</div>
