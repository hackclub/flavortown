<% content_for :title, "Get Started" %>
<% content_for :og_image, og_image_url('start', format: :png) %>

<% @hide_sidebar = true %>
<% @hide_footer = true %>

<div class="start-flow">
  <div class="start-flow__container">
    <%= render HeadingComponent.new(title: "Welcome to Hack Club Flavortown", tone: :brown) %>

    <div class="start-flow__progress">
      <div class="start-flow__steps">
        <% %w[name project devlog signin].each_with_index do |step_name, index| %>
          <div class="start-flow__step <%= 'start-flow__step--active' if @step == step_name %> <%= 'start-flow__step--completed' if StartController::STEPS.index(@step) > index %>">
            <div class="start-flow__step-number"><%= index + 1 %></div>
            <div class="start-flow__step-label"><%= step_name.titleize %></div>
          </div>
          <% if index < 3 %>
            <div class="start-flow__step-connector <%= 'start-flow__step-connector--completed' if StartController::STEPS.index(@step) > index %>"></div>
          <% end %>
        <% end %>
      </div>
    </div>

    <% case @step %>
    <% when "name" %>
      <%= render partial: "start/step_name" %>
    <%# when "experience" %>
      <%#= render partial: "start/step_experience" %>
    <% when "project" %>
      <%= render partial: "start/step_project" %>
    <% when "devlog" %>
      <%= render partial: "start/step_devlog" %>
    <% when "signin" %>
      <%= render partial: "start/step_signin" %>
    <% end %>
  </div>

<% if @step == "name" %>
  <%= render DialogueBoxComponent.new(text: [
    "Hey there, chef! I'm Chef Orpheus, your guide to Flavortown.",
    "I'll walk you through how the platform works. By the end, you'll earn your first reward and feel right at home here!",
    "Ooo, looks like your first reward just unlocked! Once we finish the tutorial, I'll send you a pack of free, real stickers to your doorstep.",
    "Let's start simple. Choose a display name. This is what other chefs will see around Flavortown, and it doesn't have to be your real name.",
    "Don't worry about making it perfect—we're just building a dummy project to learn the ropes. You can always change everything later!"
  ],
    show_sticker: true,
    sticker_line_index: 2,
  ) %>

<%# <% elsif @step == "experience" >
  <%= render DialogueBoxComponent.new(text: [
    "Nice to meet you, #{@display_name}! Now let's figure out where you're at.",
    "On Flavortown, everyone cooks at their own pace. Are you new to building projects, or do you already have ideas cooking?",
    "If you're Unseasoned, we'll help you build your first project. If you're Seasoned, you can jump straight into building your own project!",
    "Pick the path that feels right for you."
  ]) %>

<% elsif @step == "project" %>
  <%= render DialogueBoxComponent.new(text: [
    "Great! Now let's create your first project.",
    "On Flavortown, everything starts with a project. It's whatever you're building or working on.",
    "It could be a game, an app, a website, hardware, or anything else you're making, as long as it's technical.",
    "Give it a name and a short description. Don't worry, you can always change this later!",
    "I've already filled in some example text and an image for you—feel free to change it to whatever you want!",
    "Remember: this is just a dummy project for practice. Don't stress about what you put—it's all just to show you how the platform works!"
  ]) %>

<% elsif @step == "devlog" %>
  <%= render DialogueBoxComponent.new(text: [
    "Awesome project! Now for the fun part: devlogs.",
    "Devlogs are updates where you share your progress. Think of them as mini blog posts or journals about what you're working on.",
    "At Hack Club, we believe in building in the open. Devlogs are a great way to share your journey. You can later explore other projects, read devlogs, and chat with fellow chefs along the way.",
    "Let's start with a simple devlog. I'll show you examples of great ones later, so no pressure!",
    "I've already filled in some example text and an image for you—feel free to change it to whatever you want!",
    "Since this is just a dummy project for practice, don't worry about making it perfect. Just throw in whatever—we're just learning how devlogs work!"
  ]) %>

<% elsif @step == "signin" %>
  <%= render DialogueBoxComponent.new(text: [
    "You're almost there. Just one last step to claim your reward!",
    "Before we ship your stickers, we need your address and a quick confirmation that you're a teenager.",
    "You'll be taken off-site briefly to sign in or sign up with a Hack Club account. One account works for all current and future Hack Club programs!",
    "Alright, chef! See you in the kitchen!"
  ]) %>
<% end %>
</div>
