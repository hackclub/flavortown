<div class="start-flow__card">
  <div class="start-flow__ribbon">
    <%= inline_svg_tag "icons/star_fill.svg" %>
  </div>

  <div class="start-flow__card-header">
    <h2>First Devlog</h2>
    <p class="start-flow__card-subtitle">Show off your progress!</p>
  </div>

  <%= form_with url: "/start/devlog", method: :post, html: { multipart: true }, class: "start-flow__form", local: true, data: { controller: "start-devlog" } do |f| %>
    <div class="start-flow__field">
      <%= render InputComponent.new(
        label: "What are you working on?",
        placeholder: "Write a few sentences about your progress...",
        form: f,
        attribute: :devlog_body,
        color: :red,
        as: :textarea,
        subtitle: "Share what you've built or what you're excited about!",
        input_html: {
          value: @devlog_body,
          rows: 4,
          maxlength: 10000,
          required: true,
          autofocus: true
        }
      ) %>
    </div>

    <div class="start-flow__field" style="margin-top: var(--space-xxxl);">
      <%= render FileUploadComponent.new(
        label: "Attachments",
        form: f,
        attribute: :devlog_attachment_ids,
        color: :green,
        subtitle: "Upload images or videos of your project. Max 50 MB each.",
        accept: Post::Devlog::ACCEPTED_UPLOAD_TYPES.join(","),
        multiple: true,
        max_count: 8,
        max_size: 50.megabytes
      ) %>
    </div>

    <div class="start-flow__actions start-flow__actions--center">
      <%= render ButtonComponent.new(
        text: "Back",
        color: :brown,
        variant: :borderless,
        href: start_path(step: "project")
      ) %>
      <%= render ButtonComponent.new(
        text: "Next",
        color: :green,
        type: :submit,
        variant: :borderless,
        icon: "icons/right-arrow.svg"
      ) %>
    </div>
  <% end %>
</div>
