const audioBaseUrl="https://raw.githubusercontent.com/maxwofford/shopkeepers/main/audio/",yap_sounds={a:new Howl({src:audioBaseUrl+"a.wav"}),b:new Howl({src:audioBaseUrl+"b.wav"}),c:new Howl({src:audioBaseUrl+"c.wav"}),d:new Howl({src:audioBaseUrl+"d.wav"}),e:new Howl({src:audioBaseUrl+"e.wav"}),f:new Howl({src:audioBaseUrl+"f.wav"}),g:new Howl({src:audioBaseUrl+"g.wav"}),h:new Howl({src:audioBaseUrl+"h.wav"}),i:new Howl({src:audioBaseUrl+"i.wav"}),j:new Howl({src:audioBaseUrl+"j.wav"}),k:new Howl({src:audioBaseUrl+"k.wav"}),l:new Howl({src:audioBaseUrl+"l.wav"}),m:new Howl({src:audioBaseUrl+"m.wav"}),n:new Howl({src:audioBaseUrl+"n.wav"}),o:new Howl({src:audioBaseUrl+"o.wav"}),p:new Howl({src:audioBaseUrl+"p.wav"}),q:new Howl({src:audioBaseUrl+"q.wav"}),r:new Howl({src:audioBaseUrl+"r.wav"}),s:new Howl({src:audioBaseUrl+"s.wav"}),t:new Howl({src:audioBaseUrl+"t.wav"}),u:new Howl({src:audioBaseUrl+"u.wav"}),v:new Howl({src:audioBaseUrl+"v.wav"}),w:new Howl({src:audioBaseUrl+"w.wav"}),x:new Howl({src:audioBaseUrl+"x.wav"}),y:new Howl({src:audioBaseUrl+"y.wav"}),z:new Howl({src:audioBaseUrl+"z.wav"}),th:new Howl({src:audioBaseUrl+"th.wav"}),sh:new Howl({src:audioBaseUrl+"sh.wav"}),_:new Howl({src:audioBaseUrl+"space.wav"})};async function yap(a,{letterCallback:e=()=>{},endCallback:s=()=>{},baseRate:o=3.2,rateVariance:w=1}={}){const l=[];for(let e=0;e<a.length;e++){const s=a[e],o=s?.toLowerCase(),w=a[e-1],r=w?.toLowerCase(),n=a[e+1],u=n?.toLowerCase();"s"!==o||"h"!==u?"t"!==o||"h"!==u?"h"!==o||"s"!==r&&"t"!==r?",?. ".includes(s)?l.push({letter:s,sound:yap_sounds._}):o!==r&&o.match(/[a-z.]/)?l.push({letter:s,sound:yap_sounds[o]}):l.push({letter:s,sound:yap_sounds._}):l.push({letter:s,sound:yap_sounds._}):l.push({letter:s,sound:yap_sounds.th}):l.push({letter:s,sound:yap_sounds.sh})}!function a(){if(0===l.length)return void s();let{sound:r,letter:n}=l.shift();r.rate(Math.random()*w+o),r.volume(1),r.once("end",a),r.play(),r.once("play",()=>{e({sound:r,letter:n,length:l.length})})}()}